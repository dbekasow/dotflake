{ inputs, ... }: {
  flake.modules.nixos.niri = {
    imports = [ inputs.niri.nixosModules.niri ];

    programs.niri.enable = true;
  };

  flake.modules.homeManager.niri = {
    programs.niri.settings = {
      spawn-at-startup = [ ];

      input = {
        keyboard.xkb.layout = "de";
        touchpad = {
          accel-profile = "adaptive";
        };
      };

      layout = {
        background-color = "transparent";
        border.width = 2;
        focus-ring.width = 2;
        gaps = 6;
      };
    };
  };
}
